<html><head><style>body {
   color: black;
}
</style></head><body><p><img src="https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png" alt="Microchip logo">
<img src="https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_mplab_harmony_logo_small.png" alt="Harmony logo small"></p>
<h1 id="wifi-based-rgb-led-control-application-demo-on-curiosity-pic32mz-ef-2-0-development-board">WiFi based RGB LED Control Application Demo on Curiosity PIC32MZ EF 2.0 Development Board</h1>
<h2 id="description">Description</h2>
<hr>
<blockquote>
<p> The WiFi RGB Easy Configuration demo showcases how to configure an embedded WiFi device that does not have a
    natural keyboard and screen. By using the internal Web server that accompanies the Microchip TCP/IP stack,
    end-users can use their browser to control the RGB(RedGreenBlue) Led.</p>
<p>The Curiosity PIC32MZ EF 2.0 Development Board provides an XPRO connector. The XPRO connector is plugged with the
    ATWINC1500-XPRO board to configure WiFi connectivity. Also, the demo features changing the color of the on-board
    RGB LED using the webpage hosted by the Curiosity board.</p>
</blockquote>
<h2 id="modules-technology-used-">Modules/Technology Used:</h2>
<hr>
<ul>
<li>WINC1500 Driver</li>
<li>TCP/IP Stack</li>
<li>NVM</li>
<li>Memory Driver</li>
<li>Core Timer </li>
<li>SYS Console &amp; SYS Command</li>
<li>Output compare </li>
<li>File System</li>
</ul>
<h2 id="hardware-used-">Hardware Used:</h2>
<ul>
<li><a href="https://www.microchip.com/Developmenttools/ProductDetails/DM320209">Curiosity PIC32MZ EF 2.0 Development Board</a>   </li>
<li><a href="https://www.microchip.com/DevelopmentTools/ProductDetails/ATWINC1500-XPRO">ATWINC1500-XPRO</a></li>
</ul>
<h2 id="software-tools-used-">Software/Tools Used:</h2>
<ul>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/csp">MPLAB Harmony v3 &quot;csp&quot; repo v3.5.2</a></li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/core">MPLAB Harmony v3 &quot;core&quot; repo v3.5.2</a>          </li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/dev_packs">MPLAB Harmony v3 &quot;dev_packs&quot; repo v3.5.0</a>  </li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/mhc">MPLAB Harmony v3 &quot;mhc&quot; repo v3.3.3</a>   </li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/bsp">MPLAB Harmony v3 &quot;bsp&quot; repository v3.5.0</a></li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/wireless">MPLAB Harmony v3 &quot;wireless&quot; repo v3.0.0</a></li>
<li><a href="https://github.com/Microchip-MPLAB-Harmony/net">MPLAB Harmony v3 &quot;net&quot; repo v3.5.1</a></li>
<li>MPLAB Harmony Configurator Plugin v3.4.0</li>
<li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB X IDE v5.30</a></li>
<li><a href="https://www.microchip.com/mplab/compilers">MPLAB XC32 Compiler v2.30</a></li>
<li><a href="https://www.microchip.com/mplab/mplab-integrated-programming-environment">MPLAB X IPE v5.30</a></li>
</ul>
<h2 id="setup-">Setup:</h2>
<ul>
<li>Connect ATWINC1500-XPRO to Extension header (J501) on Curiosity PIC32MZ EF 2.0 Development Board.   </li>
<li>Power the Curiosity PIC32MZ EF 2.0 Development Board from a Host PC through a Type-A male to micro-B USB cable connected to Micro-B port (J700).
<img src = "images/wifi_rgb_easy_configuration_demo_setup.png" width="650" height="300" align="middle"></li>
</ul>
<h2 id="programming-binary-hex-file-">Programming binary/hex file:</h2>
<ul>
<li>If you are not interested in installing development tools. The pre-built binary/hex file can be programmed to the target.<h3 id="steps-to-program-the-hex-file-using-mplab-x-ipe-">Steps to program the hex file using MPLAB X IPE.</h3>
<ul>
<li>Open MPLAB X IPE.</li>
<li>Select Device has &quot;PIC32MZ2048EFM144&quot;.</li>
<li>Power the Curiosity PIC32MZ EF 2.0 Development Board from a Host PC through a Type-A male to Micro-B USB cable connected to Micro-B port (J105).</li>
<li>Once Power cable is connected, &quot;Curiosity/Starter Kits PKOB4&quot; hardware tool is identified as a programmer.</li>
<li>Browse to hex file (wifi_rgb_easy_configuration_hex_file.hex).  </li>
<li>Click on program button. The device gets programmed in sometime.</li>
<li>Follow the steps in &quot;Running the Demo&quot; section below.</li>
</ul>
</li>
</ul>
<h2 id="programming-debugging-application-project-">Programming/Debugging Application Project:</h2>
<ul>
<li>Open the project (wifi_rgb_easy_configuration\firmware\pic32mz_ef_curiosity_v2.X) in MPLAB X IDE.</li>
<li>Ensure &quot;Curiosity/Starter Kits PKOB4&quot; is selected as hardware tool to program/debug the application.</li>
<li>Build the code and program the device by clicking on the &quot;make and program&quot; button in MPLAB X IDE tool bar.</li>
<li>Follow the steps in &quot;Running the Demo&quot; section below.  </li>
</ul>
<h2 id="running-the-demo-">Running the Demo:</h2>
<ul>
<li>Open Tera Term, connect to serial console. If there is any connection issue on tera terminal, unplug the USB cable connected to Micro-B port, and reconnect it back.</li>
<li>Change the baud rate to 115200. </li>
<li>Perform a reset by pressing the &quot;RESET&quot; switch.</li>
<li>The serial terminal displays the below message<br>&quot;TCP/IP Stack: Initialization Started<br>TCP/IP Stack: Initialization Ended - success<br>SYS_Initialize: The MPFS2 File System is mounted<br>Interface WINC on host MCHPBOARD_W     - NBNS enabled<br>WINC IP Address: 192.168.1.1&quot;  </li>
<li>When the demonstration runs, the WINC1500 goes into SoftAP mode (it behaves as an access point) and displays itself as &quot;MCHPSoftAP&quot; network        </li>
<li>From a smartphone or personal computer, connect to the &quot;MCHPSoftAP&quot; network, which is the SoftAP network started by the demonstration. Then, bring up a web page by entering the IP address(e.g., 192.168.1.1) of the SoftAP network into the smartphone browser.</li>
<li>When the web page is displayed, On the right top corner of the page, there is a widget through which you can change the color of the RGB LED on the Curiosity board. </li>
<li>Click the text box to display a pop-up for selecting the color of the RGB LED. Click the Submit button to set the color of the RGB LED on the Curiosity board. </li>
</ul>
<h2 id="comments-">Comments:</h2>
<ul>
<li>While formatting the SD card, change allocation unit size to 32K. This helps in reading the contents of the SD card faster.<pre><code>(To <span class="hljs-keyword">change</span> allocation unit <span class="hljs-keyword">size</span>, <span class="hljs-keyword">Right</span> click <span class="hljs-keyword">on</span> Drive &gt; <span class="hljs-keyword">Select</span> <span class="hljs-keyword">Format</span> &gt; <span class="hljs-keyword">change</span> Allocation unit <span class="hljs-keyword">size</span>)
</code></pre></li>
<li>This application is developed by applying a patch (available in folder &quot;wifi_rgb_easy_configuration\wifi_repo_patch&quot;) to MPLAB Harmony v3 &quot;wireless&quot; repository. 
If you need to reconfigure or regenerate this demo using MHC, please refer the &quot;Notes.txt&quot; file under &quot;wifi_rgb_easy_configuration\wifi_repo_patch&quot; folder.</li>
</ul>
<h2 id="revision-">Revision:</h2>
<ul>
<li>v1.0 Created demo.</li>
</ul>
</body></html>